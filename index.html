<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8" />
				
	<!-- Include Bootstrap 4 CSS -->
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/css/bootstrap.min.css" integrity="sha384-GJzZqFGwb1QTTN6wy59ffF1BuGJpLSa9DkKMp0DgiMDm4iYMj70gZWKYbI706tWS" crossorigin="anonymous">
	
	<!-- Include Font Awesome 5 -->
	<link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.8.1/css/all.css" integrity="sha384-50oBUHEmvpQ+1lW4y57PTFmhCaXp0ML5d60M1M7uH2+nqUivzIebhndOJK28anvf" crossorigin="anonymous">
	
	<!-- Add local styles -->
	<style>
		/* Load the web font for the clock */
		@import url('https://fonts.googleapis.com/css2?family=Share+Tech+Mono&display=swap');
		
		/* Apply the web font to the clock */
		#wc_clock{
			font-family: 'Share Tech Mono', monospace;
		}
	</style>
	
	<title>This-Ti.me</title>
</head>
<body>

<!-- The Page Heading (temporary) -->
<header class="container my-3">
	<div class="row">
		<div class="col">
			<h1>This-Ti.me</h1>
		</div>
	</div>
</header>


<!-- The main page body -->
<main class="container my-3" style="min-width: 690px;">
	<div class="row">
		<div class="col">
			 <div class="card">
				<div class="card-header h3">
					Shared Time
				</div>
				<div class="card-body">
					<p class="card-text" id="placeholder-time"></p>
				</div>
			 </div>
		</div>
		<div class="col">
			<div class="card">
				<div class="card-header h3">
					Share a Time
				</div>
				<form action="javascript:void(0);" class="card-body form" novalidate>
					<div class="form-group">
						<label for="share-date">Date</label>
						<div class="input-group date" id="share-date" data-target-input="nearest">
							<input type="text" class="form-control datetimepicker-input" data-target="#share-date">
							<div class="input-group-append" data-target="#share-date" data-toggle="datetimepicker">
								<div class="input-group-text"><i class="far fa-calendar-alt"></i></div>
							</div>
						</div>
						<small class="form-text text-muted">Enter a date in your local format, or click the calendar icon to bring up a date picker.</small>
					</div>
					<div class="form-group">
						<label for="share-Time">Time</label>
						<div class="input-group date" id="share-time" data-target-input="nearest">
							<input type="text" class="form-control datetimepicker-input" data-target="#share-time">
							<div class="input-group-append" data-target="#share-time" data-toggle="datetimepicker">
								<div class="input-group-text"><i class="far fa-clock"></i></div>
							</div>
						</div>
						<small class="form-text text-muted">Enter a time in 24 hour format, e.g. <code>04:15</code> or <code>14:00</code>, or click the clock icon to bring up a time picker.</small>
					</div>
					<div class="form-group">
						<label for="share-timezone">Time Zone</label>
						<input type="text" id="share-timezone" class="form-control" autocomplete="off">
						<small class="form-text text-muted">Enter an <a href="https://en.wikipedia.org/wiki/Tz_database" target="_blank" rel="noopener">IANA timezone string</a>, or just start typing a city name for auto-complete suggestions.</small>
					</div>
				</form>
			</div>
		</div>
	</div>
</main>

<!-- Include Bootstrap JavaScript from CDNs -->
<script src="https://code.jquery.com/jquery-3.4.0.min.js" integrity="sha256-BJeo0qm959uMBGb65z40ejJYGSgR7REI4+CW1fNKwOg=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js" integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k" crossorigin="anonymous"></script>

<!-- Include Bootstrap 4 Autocomplete from CDN -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap-4-autocomplete/dist/bootstrap-4-autocomplete.min.js" crossorigin="anonymous"></script>

<!-- Include Moment.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.25.3/moment-with-locales.min.js" integrity="sha256-8d6kI5cQEwofkZmaPTRbKgyD70GN5mDpTYNP9YWhTlI=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment-timezone/0.5.28/moment-timezone-with-data.min.js" integrity="sha256-IWYg4uIC8/erItNXYvLtyYHioRi2zT1TFva8qaAU/ww=" crossorigin="anonymous"></script>

<!-- Include Tempus Dominus -->
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/tempusdominus-bootstrap-4/5.0.1/js/tempusdominus-bootstrap-4.min.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tempusdominus-bootstrap-4/5.0.1/css/tempusdominus-bootstrap-4.min.css" />

<!-- This Page's Local JavaScript Code -->
<script type="text/javascript">
	//
	// === The Document Ready Handler
	//
	$(function(){
		// build the set of timezones for use in the timezone dropdowns
		const tzAutoCompeleSource = {};
		let tzAutoCompleteCounter = 1;
		for(const tzName of moment.tz.names()){
			// break the timezone into parts
			const tzParts = tzName.split('\/');
			
			// skip timezones with more than two parts
			if(tzParts.length != 2) continue;
					
			// skip the artificial Etc region
			if(tzParts[0] === 'Etc') continue;
			
			// if we got here, add the timezone as an option
			tzAutoCompeleSource[tzName] = tzAutoCompleteCounter;
			tzAutoCompleteCounter++;
		}
		
		// init the date & time pickers
		$('#share-date').datetimepicker({
			format: 'L',
			minDate: moment().startOf('day'),
			defaultDate: moment()
        });
		$('#share-time').datetimepicker({
			format: 'HH:mm',
			defaultDate: moment().startOf('hour').add(1, 'hour')
        });
		
		// init the timezone dropdown
		$('#share-timezone').val(Intl.DateTimeFormat().resolvedOptions().timeZone).autocomplete({
			source: tzAutoCompeleSource, // the autocompelte values
			maximumItems: 10, // the maximum autocomplete suggestions
			treshold: 1, // the minimum number of characters to search
		});
    });
</script>

</body>
</html>