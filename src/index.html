<!DOCTYPE HTML>
<html>
<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

	<!-- import the head bundle (applies the CSS) -->
	<script src="./bundle-head.js"></script>
	
	<title>This-Ti.me</title>
</head>
<body>

<!-- The Page Heading (temporary) -->
<header class="container my-3">
	<div class="row">
		<div class="col">
			<h1 class="display-1">This-Ti.me</h1>
		</div>
	</div>
</header>


<!-- The main page body -->
<main class="container my-3">
	<div class="row">
		<div class="col-12" id="problem-alerts"></div>
	</div>
	<div class="row">
		<div class="col">
			<ul class="nav nav-tabs" id="mainNav" role="tablist">
				<li class="nav-item h4 d-none" id="shared-tab-li" role="presentation">
					<a class="nav-link" id="shared-tab" data-toggle="tab" href="#shared" role="tab" aria-controls="shared" aria-selected="false">Shared Time</a>
				</li>
				<li class="nav-item h4" role="presentation">
					<a class="nav-link active" id="shared-tab" data-toggle="tab" href="#share" role="tab" aria-controls="share" aria-selected="true">Share a Time</a>
				</li>
				<li class="nav-item h4" role="presentation">
					<a class="nav-link" id="profile-tab" data-toggle="tab" href="#about" role="tab" aria-controls="about" aria-selected="false">About</a>
				</li>
			</ul>
			<div class="tab-content  mb-3" id="mainContent">
				<div class="tab-pane fade border border-top-0 rounded-bottom p-3" id="shared" role="tabpanel" aria-labelledby="home-tab">
					<div id="shared-intro-div"></div>
					
					<h1 class="h5">Your Time <small class="text-muted" id="shared-yourTime-timezone"><em>Your Timezone</em></small></h1>
					<p id="shared-yourTime-time"></p>
					<h1 class="h5 mt-3"><span id="shared-theirTime-name">Their</span> Time <small class="text-muted" id="shared-theirTime-timezone"><em>Their Timezone</em></small></h1>
					<p id="shared-theirTime-time"></p>
				</div>
				<div class="tab-pane fade show active border border-top-0 rounded-bottom p-3" id="share" role="tabpanel" aria-labelledby="share-tab">
					<p class="lead">Avoid timezone confusion by sharing a time with friends and colleagues around the world.</p>
					
					<p>Enter the date and time in your timezone, click the button to generate the link, then share it how ever you like.</p>
					
					<p>When your friends or colleagues open the link they'll see the time you shared in their own timezone as well as yours.</p>
					
					<form action="javascript:void(0);" class="form" id="share-fm" novalidate>
						<div class="form-group">
							<label for="share-date">Date</label>
							<div class="input-group date" id="share-date-dp" data-target-input="nearest">
								<input type="text" class="form-control datetimepicker-input" data-target="#share-date-dp" id="share-date-tb" required>
								<div class="input-group-append" data-target="#share-date-dp" data-toggle="datetimepicker">
									<div class="input-group-text"><i class="far fa-calendar-alt"></i></div>
								</div>
							</div>
							<small class="form-text text-muted">Enter a date in your local format, e.g. <code id="share-date-example"></code>, or click the calendar icon to bring up a date picker.</small>
						</div>
						<div class="form-group">
							<label for="share-Time">Time</label>
							<div class="input-group date" id="share-time-dp" data-target-input="nearest">
								<input type="text" class="form-control datetimepicker-input" data-target="#share-time-dp"  id="share-time-tb" required>
								<div class="input-group-append" data-target="#share-time-dp" data-toggle="datetimepicker">
									<div class="input-group-text"><i class="far fa-clock"></i></div>
								</div>
							</div>
							<small class="form-text text-muted">Enter a time in 24 hour format, e.g. <code>02:15</code> or <code>14:15</code>, or click the clock icon to bring up a time picker.</small>
						</div>
						<div class="form-group">
							<label for="share-tb">Share Link</label>
							<div class="input-group">
								<div class="input-group-prepend">
									<div class="input-group-text"><i class="fas fa-link"></i></div>
								</div>
								<input type="text" class="form-control" id="share-tb">
								<div class="input-group-append">
									<button class="btn btn-success" type="button" id="share-btn">Generate</button>
								</div>
							</div>
							<small class="form-text text-muted">Share this link how ever you like. Recipients will see your shared time in their timezone and yours.</small>
						</div>
					</form>	
				</div>
				<div class="tab-pane fade border border-top-0 rounded-bottom p-3" id="about" role="tabpanel" aria-labelledby="about-tab">
					<p>A free and open source time-sharing by <a href="https://www.bartb.ie/" target="_blank" rel="nofollow">Bart Busschots</a>. The code (and this site) are <a href="https://github.com/bbusschots/this-ti.me" target="_blank" rel="nofollow">hosted on GitHub</a>.</p>
					
					<p>The site has its origins in the <a href="https://pbs.bartificer.net" target="_blank" rel="nofollow">Programming by Stealth</a> blog/podcast series.</p>
					
					<p>This site is free for you to use, does not track you, and does not advertise at you. If you get value from the site and would like to contribute, please <a href="https://github.com/sponsors/bbusschots" target="_blank" rel="nofollow">support Bart's open source work on GitHub</a>, <a href="https://patreon.com/ltpod" target="_blank" rel="nofollow">his podcasting/blogging on Patreon</a>, or <a href="https://www.paypal.com/donate/?hosted_button_id=8HXU847VTKGTY" target="_blank" rel="nofollow">this site via PayPal</a>.</p>
				</div>
			</div>
		</div>
		<div class="col-12 col-md-4">
			 <div class="card bg-light">
				<div class="card-header h4">
					About You
				</div>
				<form action="javascript:void(0);" class="card-body form" id="you-fm" novalidate>
					<div class="form-group">
						<label for="you-timezone-tb">Your Time Zone</label>
						<div class="input-group">
							<input type="text" id="you-timezone-tb" class="form-control" autocomplete="off" required>
							<div class="input-group-append">
								<div class="input-group-text"><i class="fas fa-globe"></i></div>
							</div>
						</div>
						<small class="form-text text-muted">Enter an <a href="https://en.wikipedia.org/wiki/Tz_database" target="_blank" rel="noopener">IANA timezone string</a>, or just start typing a city name for auto-complete suggestions.</small>
					</div>
					<div class="form-group">
						<label for="you-timezone-tb">Your Name <small class="text-muted">(Optional)</small></label>
						<div class="input-group">
							<input type="text" id="you-name-tb" class="form-control">
							<div class="input-group-append">
								<div class="input-group-text"><i class="far fa-user"></i></div>
							</div>
						</div>
						<small class="form-text text-muted">Recipients see the shared time in their timezone and yours. If you enter a name, your time will be labeled with your name.</small>
					</div>
					<div class="collapse" id="you-save-div">
						<div class="form-group">
							<label for="you-link-tb">Personal Link</label>
							<div class="input-group">
								<div class="input-group-prepend">
									<div class="input-group-text"><i class="fas fa-link"></i></div>
								</div>
								<input type="text" class="form-control" id="you-link-tb">
								<div class="input-group-append">
									<button class="btn btn-secondary" type="button" id="you-link-btn">Generate</button>
								</div>
							</div>
							<small class="form-text text-muted">This link encodes your chosen timezone and name, bookmark or save it to save yourself a little time and effort.</small>
						</div>
						<div class="form-group">
							<label>Save a Cookie</label>
							<button class="btn btn-secondary form-control" type="button" id="you-cookie-save-btn"><i class="fas fa-cookie"></i> Save to Cookie</button>
							<small class="form-text text-muted">You can save your preferred timezone and name as a cookie in your browser. This cookie will be remembered for one year. Each time you visit the page the cookie will be refreshed for a further year.</small>
						</div>
						<div class="form-group d-none" id="you-cookie-delete-fg">
							<button class="btn btn-danger form-control" type="button" id="you-cookie-delete-btn"><i class="fas fa-cookie"></i> Delete your Cookie</button>
							<small class="form-text text-muted" id="you-cookie-desc"></small>
						</div>
					</div>
					<div class="form-group">
						<button class="btn btn-secondary form-control" type="button" id="you-save-btn" data-toggle="collapse" data-target="#you-save-div" aria-expanded="false" aria-controls="you-save-div">
							Save as Defaults â€¦
						</button>
					</div>
				</form>
			 </div>
		</div>
	</div>
</main>

<!--
== Define Mustache Templates ==
-->

<!-- An error message -->
<script type="text/html" id="problem-alert-tpl">
	<div class="alert alert-{{{bootstrapColor}}} alert-dismissible fade show" role="alert"">
		<p class="m-0"><strong><i class="fas fa-exclamation-triangle" aria-hidden></i> {{title}}:</strong> {{{message}}}</p>
		<button type="button" class="close" data-dismiss="alert" aria-label="Close">
			<span aria-hidden>&times;</span>
		</button>
	</div>
</script>

<!-- The introductory message for a shared time -->
<script type="text/html" id="shared-intro-tpl">
	<p class="lead">{{name}} shared a time with you, you can see it below in your timezone and in theirs.</p>
	
	<p>We've done our best to infer your timezone, if we got it wrong, or if you'd just like to see the time in another timezone, you can change your timezone in the <em>About You</em> box.</p>
</script>

<!-- A Clock -->
<script type="text/html" id="clock-tpl">
	<div class="clock display-1 text-center">
		<div class="badge badge-{{{bootstrapColor}}}">
			{{time}}<br>
			<small>{{date}}</small>
		</div>
	</div>
</script>

<!--
== Import JavaScript ==
-->

<!-- Include Bootstrap JavaScript from CDNs -->
<script src="https://code.jquery.com/jquery-3.4.0.min.js" integrity="sha256-BJeo0qm959uMBGb65z40ejJYGSgR7REI4+CW1fNKwOg=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.6/umd/popper.min.js" integrity="sha384-wHAiFfRlMFy6i5SRaxvfOCifBUQy1xHdJ/yoi7FRNXMRBu5WHdZYu1hA6ZOblgut" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.2.1/js/bootstrap.min.js" integrity="sha384-B0UglyR+jN6CkvvICOB2joaf5I4l3gm9GU6Hc1og6Ls7i6U/mkkaduKaBhlAXv9k" crossorigin="anonymous"></script>

<!-- Include Bootstrap 4 Autocomplete from CDN -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap-4-autocomplete/dist/bootstrap-4-autocomplete.min.js" crossorigin="anonymous"></script>

<!-- Include Moment.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.25.3/moment-with-locales.min.js" integrity="sha256-8d6kI5cQEwofkZmaPTRbKgyD70GN5mDpTYNP9YWhTlI=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/moment-timezone/0.5.28/moment-timezone-with-data.min.js" integrity="sha256-IWYg4uIC8/erItNXYvLtyYHioRi2zT1TFva8qaAU/ww=" crossorigin="anonymous"></script>

<!-- Include Tempus Dominus from CDN -->
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/tempusdominus-bootstrap-4/5.0.1/js/tempusdominus-bootstrap-4.min.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/tempusdominus-bootstrap-4/5.0.1/css/tempusdominus-bootstrap-4.min.css" />

<!-- import the body bundle (JavaScript code + dependencies) -->
<script type="text/javascript" src="./bundle-body.js"></script>

</body>
</html>
